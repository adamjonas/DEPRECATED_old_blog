<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Hack hack hack...]]></title>
  <link href="http://www.blog.adamjonas.com/atom.xml" rel="self"/>
  <link href="http://www.blog.adamjonas.com/"/>
  <updated>2012-11-08T09:54:26-05:00</updated>
  <id>http://www.blog.adamjonas.com/</id>
  <author>
    <name><![CDATA[Adam Jonas]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[FIS Day23]]></title>
    <link href="http://www.blog.adamjonas.com/blog/fis-day23/"/>
    <updated>2012-11-08T09:50:00-05:00</updated>
    <id>http://www.blog.adamjonas.com/blog/fis-day23</id>
    <content type="html"><![CDATA[
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FIS Day22]]></title>
    <link href="http://www.blog.adamjonas.com/blog/fis-day22/"/>
    <updated>2012-11-07T10:10:00-05:00</updated>
    <id>http://www.blog.adamjonas.com/blog/fis-day22</id>
    <content type="html"><![CDATA[<h3>HTTParty</h3>

<ul>
<li><a href="https://github.com/jnunemaker/httparty">On github</a></li>
<li><a href="http://blog.teamtreehouse.com/its-time-to-httparty">Treehouse blog post</a></li>
</ul>


<h3>Rant</h3>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Conway%27s_law">Conway&#8217;s law</a>

<ul>
<li>organizational communication will be reflected in the product</li>
</ul>
</li>
</ul>


<p>seagull architect -</p>

<blockquote><p>comes in, shits all over your code and then leaves</p></blockquote>

<p><a href="https://speakerdeck.com/sarahmei/the-insufficiency-of-good-design">Insufficiency of good design</a></p>

<p>Open source: def up and down in migration.rb in rails can be refactored</p>

<h3>POTD</h3>

<p><a href="http://en.wikipedia.org/wiki/Joseph_Weizenbaum">Joseph Weizenbaum</a></p>

<h2>Rails Lecture</h2>

<figure class='code'><figcaption><span>Controller Test Continued from Day21&#8230;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;spec_helper&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="no">SongsController</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">describe</span> <span class="s1">&#39;POST /songs&#39;</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s1">&#39;should create a song with a name&#39;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">}}</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Thriller&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s1">&#39;should create a song with an artist name&#39;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">,</span> <span class="ss">:artist_name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Michael Jackson&quot;</span><span class="p">}}</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">artist_name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Michael Jackson&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should create a song with a genre string&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">,</span> <span class="ss">:genre_names</span> <span class="o">=&gt;</span> <span class="s2">&quot;Pop&quot;</span><span class="p">}}</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Pop&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should create a song with a genres from a CSV string&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">,</span> <span class="ss">:genre_names</span> <span class="o">=&gt;</span> <span class="s2">&quot;Pop, Techno&quot;</span><span class="p">}}</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Pop&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should create a song with a genre array containing CSV string&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">,</span> <span class="ss">:genre_names</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s2">&quot;Pop, Techno&quot;</span><span class="p">,</span> <span class="s2">&quot;Rap&quot;</span><span class="o">]</span><span class="p">}}</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Pop&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>song_spec.rb Unit Test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;spec_helper&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="no">Song</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">let</span><span class="p">(</span><span class="ss">:song</span><span class="p">){</span><span class="no">Song</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">)}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">context</span> <span class="s1">&#39;with genres&#39;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">let</span><span class="p">(</span><span class="ss">:genre</span><span class="p">){</span><span class="no">Genre</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Pop&quot;</span><span class="p">)}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">context</span> <span class="s1">&#39;.genre_names&#39;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should return an array of genre names&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genres</span> <span class="o">&lt;&lt;</span> <span class="n">genre</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="n">be_an_instance_of</span><span class="p">(</span><span class="nb">Array</span><span class="p">)</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Pop&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should accept a genre name and add that genre&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span> <span class="o">=</span> <span class="s2">&quot;Techno&quot;</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Techno&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should accept a comma delimited list of genre names&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span> <span class="o">=</span> <span class="s2">&quot;Techno, Pop&quot;</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Techno&quot;</span><span class="p">,</span> <span class="s2">&quot;Pop&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should accept an array containing comma delimited list of genre names&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span> <span class="o">=</span> <span class="o">[</span><span class="s2">&quot;Techno, Pop&quot;</span><span class="p">,</span> <span class="s2">&quot;Rap&quot;</span><span class="o">]</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Techno&quot;</span><span class="p">,</span> <span class="s2">&quot;Pop&quot;</span><span class="p">,</span> <span class="s2">&quot;Rap&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should only add unique genres&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span> <span class="o">=</span> <span class="o">[</span><span class="s2">&quot;Pop&quot;</span><span class="p">,</span> <span class="s2">&quot;Pop&quot;</span><span class="o">]</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">count</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="mi">1</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>rake spec:models</p>

<figure class='code'><figcaption><span>gem file</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">group</span> <span class="o">[</span><span class="ss">:development</span><span class="p">,</span> <span class="ss">:test</span><span class="o">]</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;debugger&#39;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>detect returns nil if there is not match</li>
<li>select returns an empty array when no match</li>
</ul>


<p><a href="http://guides.rubyonrails.org/active_support_core_extensions.html#array-conversions"><strong>to_sentence method in rails</strong></a></p>

<h3>HTML &lt; form_tag lower &lt; form_for</h3>

<p><a href="http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-form_tag">form_tag</a></p>

<figure class='code'><figcaption><span>gem file</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="n">form</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;/songs&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;new_song&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;new_song&quot;</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">form</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="sx">%= form_tag(songs_path, :id =</span><span class="o">&gt;</span> <span class="s2">&quot;new song&quot;</span><span class="p">)</span> <span class="k">do</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">  &lt;%= text_field_tag &quot;song[name]&quot;, @song.name, :id =&gt;</span> <span class="s2">&quot;song_name&quot;</span><span class="o">]</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">  &lt;%= text_field_tag &quot;song[artist_name]&quot;, @song.artist_name, :id =&gt;</span> <span class="s2">&quot;song_artist_name&quot;</span><span class="o">]</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">  &lt;%= submit_tag &quot;Create Song&quot;, :id =&gt;</span> <span class="s2">&quot;create_song&quot;</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">&lt;% end %&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="sx">%= form_for(@song) do |f| %&gt;</span>
</span><span class='line'><span class="sx">  &lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:name</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">  &lt;%= f.text_field :artist_name %&gt;</span>
</span><span class='line'>  <span class="o">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">submit</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">&lt;% end %&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-text_field_tag">text_field_tag docs</a></p>

<h3>Integration test / Acceptance Test</h3>

<ul>
<li><p><a href="http://railscasts.com/episodes/187-testing-exceptions">Railscast 187</a></p></li>
<li><p><a href="http://railscasts.com/episodes/257-request-specs-and-capybara">Railscast 257</a></p></li>
<li><a href="https://github.com/copiousfreetime/launchy">launchy gem</a> to see that page that capybara filled out - useful for creating fixtures</li>
<li><p>post_via_redirect</p>

<ul>
<li>get => response</li>
<li>visit => page</li>
</ul>
</li>
</ul>


<h3>Continuous Integration / Testing</h3>

<ul>
<li>autotest</li>
<li>guard

<ul>
<li><a href="https://github.com/guard/guard">gem guard-rspec</a></li>
</ul>
</li>
<li>rb-fsevent -> rb-FileSaveEvent -> gem that pings guard (or anything else) when a file is saved</li>
<li>growl extension or terminal notifier on the <a href="https://github.com/guard/guard#terminal-notifier">guard gem page</a></li>
<li><a href="https://github.com/jnicklas/capybara">capybara</a></li>
</ul>


<p><strong>receiver.try(:method) -> if the receiver is nil then try will not call the method, otherwise it will</strong></p>

<h3>Pull down the other app</h3>

<p>git merge upstream/master</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FIS Day21]]></title>
    <link href="http://www.blog.adamjonas.com/blog/fis-day21/"/>
    <updated>2012-11-06T13:57:00-05:00</updated>
    <id>http://www.blog.adamjonas.com/blog/fis-day21</id>
    <content type="html"><![CDATA[<p><strong><em>Generate a model that is singular&#8211; ALWAYS</em></strong></p>

<p>&#8216;self&#8217; means the receiver of this method call</p>

<p><a href="http://blog.aviflombaum.com/blog/2012/07/dont-use-accepts-nested-attributes-for-with-belongs-to/"><strong>never ever have a nested attributes for belongs_to ONLY has has_many</strong>
</a></p>

<figure class='code'><figcaption><span>song.rb Model</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Class</span> <span class="no">Song</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">add_genre</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span>
</span><span class='line'>    <span class="n">genre</span> <span class="o">=</span> <span class="no">Genre</span><span class="o">.</span><span class="n">find_or_create_by_name</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span> <span class="k">if</span> <span class="n">genre</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="nb">String</span><span class="p">)</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">song_genres</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:genre</span> <span class="o">=&gt;</span> <span class="n">genre</span><span class="p">)</span><span class="o">.</span><span class="n">genre</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>song_spec.rb Unit Test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;spec_helper&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="no">Song</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">context</span> <span class="s1">&#39;.add_genre&#39;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">before</span><span class="p">(</span><span class="ss">:each</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">let</span><span class="p">(</span><span class="ss">:song</span><span class="p">){</span><span class="no">Song</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">)}</span>
</span><span class='line'>      <span class="n">let</span><span class="p">(</span><span class="ss">:genre</span><span class="p">){</span><span class="no">Genre</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Pop&quot;</span><span class="p">)}</span> <span class="c1">#this creates the genre method that executes the block that follows it.</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should add the genre&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genres</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should return the newly added genre&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span> <span class="n">should</span> <span class="o">==</span> <span class="n">genre</span> <span class="c1">#this means it won&#39;t return a full array like a push method return</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s1">&#39;should accept an existing genre name do&#39;</span>
</span><span class='line'>        <span class="n">genre</span> <span class="o">=</span> <span class="no">Genre</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Techno&quot;</span><span class="p">)</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="s2">&quot;Techno&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="n">genre</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s1">&#39;should accept a genre name&#39;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="s2">&quot;Pop&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="n">genre</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should add only unique genres&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="c1">#if I add the same genre twice, it should still </span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genres</span><span class="o">.</span><span class="n">count</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="mi">1</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Rspec runs its tests in isolation, by running each test in a transaction. After each test, it rollbacks all the writes.</p>

<p>LOGS:</p>

<figure class='code'><figcaption><span>song_spec.rb Unit Test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">tail</span> <span class="o">-</span><span class="n">f</span> <span class="c1">#open the end of the file and keep it open. </span>
</span></code></pre></td></tr></table></div></figure>


<p>If you are building associated data outside of your model, then you haven&#8217;t encapsulated enough.</p>

<ul>
<li>Tests Hierarchy in ascending levels of abstraction

<ul>
<li>unit tests</li>
<li>controller tests</li>
<li>integration tests</li>
</ul>
</li>
</ul>


<figure class='code'><figcaption><span>Controller Test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;spec_helper&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="no">SongsController</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">describe</span> <span class="s1">&#39;POST /songs&#39;</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s1">&#39;should create a song with a name do&#39;</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">}}</span>
</span><span class='line'>      <span class="c1">#create action in the song controller with post or request parameters that you </span>
</span><span class='line'>      <span class="c1">#want to send along with it</span>
</span><span class='line'>
</span><span class='line'>     <span class="c1"># Song.find_by_name(&quot;Thriller&quot;).should be_true</span>
</span><span class='line'>     <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Thriller&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s1">&#39;should create a song with an artist name&#39;</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">,</span> <span class="ss">:artist_name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Michael Jackson&quot;</span><span class="p">}}}</span>
</span><span class='line'>      <span class="c1">#this makes artist_name a first class citizen in the params hash.</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">#we killed this because we are assigning a string, not an artist object--&gt; post :create, {:song =&gt; {:name =&gt; &quot;Thriller&quot;, :artist =&gt; {:name =&gt; &quot;Michael Jackson&quot;}}} </span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">#create action in the song controller with post or request parameters that you </span>
</span><span class='line'>      <span class="c1">#want to send along with it</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">#Song.find_by_name(&quot;Thriller&quot;).should be_true</span>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Michael Jackson&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>song_spec.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">context</span> <span class="s1">&#39;.artist_name&#39;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">it</span> <span class="s2">&quot;should have an artist_name method&quot;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">song</span><span class="o">.</span><span class="n">should</span> <span class="n">respond_to</span><span class="p">(</span><span class="ss">:artist_name</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">it</span> <span class="s1">&#39;should return a songs artist&#39;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">song</span><span class="o">.</span><span class="n">artist</span> <span class="o">=</span> <span class="no">Artist</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Michael Jackson&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">song</span><span class="o">.</span><span class="n">artst_name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Michael Jackson&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">context</span> <span class="s1">&#39;.artist_name=&#39;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should assign the artist via the name&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">song</span><span class="o">.</span><span class="n">artist_name</span> <span class="o">=</span> <span class="s2">&quot;Michael Jackson&quot;</span>
</span><span class='line'>      <span class="n">song</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">should</span> <span class="n">be_a</span><span class="p">(</span><span class="no">Artist</span><span class="p">)</span>
</span><span class='line'>      <span class="n">song</span><span class="o">.</span><span class="n">artist_name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Michael Jackson&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Song.rb Model</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="k">def</span> <span class="nf">artist_name</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="nb">self</span><span class="o">.</span><span class="n">artist</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">artist_name</span><span class="o">=</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">artist</span> <span class="o">=</span> <span class="no">Artist</span><span class="o">.</span><span class="n">find_or_create_by_name</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>SOLID</h3>

<p>Procedural code- solutions for very specific problems</p>

<p>dependencies will kill your code, but design will save it</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[code smells and refactoring]]></title>
    <link href="http://www.blog.adamjonas.com/blog/code-smells-and-refactoring/"/>
    <updated>2012-11-05T15:05:00-05:00</updated>
    <id>http://www.blog.adamjonas.com/blog/code-smells-and-refactoring</id>
    <content type="html"><![CDATA[<p>decomposition and synthesis</p>

<ul>
<li><a href="http://www.codinghorror.com/blog/2006/05/code-smells.html">Code smells</a> Jeff Atwood.</li>
<li><a href="http://www.cs.usfca.edu/~parrt/course/601/lectures/refactoring/refactoring.html">Summary</a></li>
<li><p>http://c2.com/cgi/wiki?RefactoringImprovingTheDesignOfExistingCode</p></li>
<li><p>http://en.wikipedia.org/wiki/Code_refactoring</p></li>
<li><a href="http://martinfowler.com/bliki/EtymologyOfRefactoring.html">etymology of refactoring</a>

<ul>
<li>The obvious answer comes from the notion of factoring in mathematics. You can take an expressions such as x<sup>2</sup> + 5x + 6 and factor it into (x+2)(x+3). By factoring it you can make a number of mathematical operations much easier. Obviously this is much the same as representing 18 as 2*3<sup>2.</sup></li>
</ul>
</li>
</ul>


<p>improve internal structure, but don&#8217;t change the external behavior</p>

<ul>
<li><p>list of refactors - slide 7 in <a href="http://www.slideshare.net/MarcusDenker/refactoring-1921411">http://www.slideshare.net/MarcusDenker/refactoring-1921411</a></p></li>
<li><p>code is written once, but read many times.</p></li>
</ul>


<p><a href="http://www.refactoring.com/catalog/index.html">refactoring list from fowler</a></p>

<ul>
<li><p><a href="http://en.wikipedia.org/wiki/Spaghetti_code">Spaghetti Code</a></p>

<ul>
<li>Spaghetti code is a pejorative term for source code that has a complex and tangled control structure. It is named such because program flow tends to look like a bowl of spaghetti, i.e. twisted and tangled.</li>
</ul>
</li>
<li><p>Duplicated Code</p></li>
<li>long method</li>
<li>large class</li>
<li>long parameter list</li>
<li><p>temporary variable assigned more than once, but not a loop or collection</p></li>
<li><p><a href="http://www.refactoring.com/catalog/extractMethod.html">extract method</a></p>

<ul>
<li>push logic to the model -> conditional logic belongs in the model</li>
<li>we&#8217;re going to push the nastiness down into the model. That way it can be tested and, so we can more easily change it in the future.</li>
</ul>
</li>
<li><p>when you refactor, the first test is always create tests</p></li>
<li><p>good quotes <a href="http://www.slideshare.net/hominhchuc/refactoring-your-code-key-step-to-agility-presentation">http://www.slideshare.net/hominhchuc/refactoring-your-code-key-step-to-agility-presentation</a></p></li>
</ul>


<p>  Martin Fowler : &#8220;a change made to the internal structure of software to make it easier to understand and cheaper to modify without changing its observable behavior“.</p>

<p>  William C. Wake : &#8220;Refactoring is the art of safely improving the design of existing code“.</p>

<p>  RefactoringThe goal of refactoring is NOT to add new functionalityThe goal is refactoring is to make code easier to maintain in the futureThe process of refactoring involves the removal of duplication, the simplification of complex logic, and the clarification of unclear code.</p>

<p>  refactoring versus rewriting</p>

<p>  lego versus playdoh slide 9 <a href="http://www.slideshare.net/NeilGreen1/the-roi-of-refactoring-lego-vs-playdoh">http://www.slideshare.net/NeilGreen1/the-roi-of-refactoring-lego-vs-playdoh</a></p>

<p>  Everything I need to know about refactoring I learned in kindergarden</p>

<p>   “I&#8217;m not a great programmer; I&#8217;m just a good programmer with great habits.”- Kent Beck</p>

<h3>Law of demeter?</h3>

<p>  Get into this?</p>

<h3>E.g.s</h3>

<ul>
<li>Inline class- <a href="http://www.refactoring.com/catalog/inlineClass.html">http://www.refactoring.com/catalog/inlineClass.html</a></li>
<li>Decompost conditional-  <a href="http://www.refactoring.com/catalog/decomposeConditional.html">http://www.refactoring.com/catalog/decomposeConditional.html</a></li>
<li>Extract Class - <a href="http://www.refactoring.com/catalog/extractClass.html">http://www.refactoring.com/catalog/extractClass.html</a></li>
<li>Inline Method</li>
<li>Replace Conditional with Polymorphism</li>
<li><p>Replace Parameter with Method</p></li>
<li><p>God class</p></li>
</ul>


<p><a href="http://www.refactoring.com/catalog/">http://www.refactoring.com/catalog/</a></p>

<h3>Code smells</h3>

<p><a href="http://en.wikipedia.org/wiki/Code_smell">http://en.wikipedia.org/wiki/Code_smell</a></p>

<p>extraction pattern- anti-pattern:
<a href="http://blog.jayfields.com/2007/04/ruby-anti-pattern-extract-module-to.html">http://blog.jayfields.com/2007/04/ruby-anti-pattern-extract-module-to.html</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Anatomy of Web Requests]]></title>
    <link href="http://www.blog.adamjonas.com/blog/anatomy-of-web-requests/"/>
    <updated>2012-11-05T12:58:00-05:00</updated>
    <id>http://www.blog.adamjonas.com/blog/anatomy-of-web-requests</id>
    <content type="html"><![CDATA[<h3><a href="http://johndbritton.com/">John Britton</a></h3>

<h3>Requests are like</h3>

<ul>
<li>driving a car</li>
<li><p>shipping containers</p></li>
<li><p><a href="http://en.wikipedia.org/wiki/OSI_model">OSI model</a></p></li>
</ul>


<p>  sounds a lot like mvc- in terms of abstraction</p>

<p>  HTTP: the language that your browser speaks
  - The webpage is a document</p>

<h3>URI:</h3>

<ul>
<li><p>Rendering</p>

<ul>
<li>HTML structure</li>
<li>CSS style</li>
<li><p>JS behavior</p></li>
<li><p>ports are a concept</p></li>
<li>ftp 21</li>
<li>ssl 53</li>
<li>0-1024 -> are assigned</li>
<li>1024-49151 -> are available</li>
<li><p>49152+</p></li>
<li><p>if listening on 80- that means that route every request on port 80 to this program</p></li>
</ul>
</li>
<li><p><a href="http://jsfiddle.net/">JS Fiddle</a></p></li>
<li><p>HTTP: methods/verbs</p>

<ul>
<li>GET - grab some stuff and bring it down</li>
<li>POST - anything you are altering the state of the app with is probably a post request</li>
<li>PUT</li>
<li>DELETE</li>
<li>others: HEAD, PATCH, TRACE, OPTIONS, CONNECT</li>
</ul>
</li>
<li><p>curl- works just like a browser on the command line.</p></li>
</ul>


<h3>Where do those requests go?</h3>

<ul>
<li>what is the ip address of the resource I am looking for</li>
<li>if nothing is cached anywhere

<ul>
<li>13 root nameservers</li>
<li>TLD nameserver- authoritative for .coms for example</li>
<li>A record - I found the place to go for github, but I need the actual IP address</li>
<li><p>IP address</p></li>
<li><p><a href="http://en.wikipedia.org/wiki/BIND">BIND</a> is the most widely used DNS software on the Internet.</p></li>
<li><p>TTL- <a href="http://en.wikipedia.org/wiki/Time_to_live">time to live</a></p></li>
<li><p>Networks: nodes that can talk to each other directly</p></li>
<li>Interface</li>
<li><p>Network addresses:</p>

<ul>
<li>defines all the address that can talk to each other</li>
<li>a.b.c.d/n (n= network mask /subnet)</li>
<li>Private (non routable) network

<ul>
<li>10.0.0.0/8</li>
<li>172.16.0.0/12 -> identifies which part is</li>
<li>192.168.0.0/16 -> private networks namespaced for private networks</li>
</ul>


<p>255.255.255.0 -> subnet mask -> 24 bits ->
192.168.1.N and n can&#8217;t exceed 255 people.</p>

<p>10101100.0001 -> this is the network address -> the first 16 bits, the rest would be the node of the network</p>

<ul>
<li>you can have a lot more machines on an 8 bit network identifier, than a 16 bit. But you wouldn&#8217;t want to waste a bunch of nodes that aren&#8217;t going to be used.</li>
</ul>
</li>
</ul>
</li>
<li><p>Maximum number of address minus two</p>

<ul>
<li>192.168.1.255 -> broadcast address</li>
</ul>
</li>
<li><p>Network Hardware</p>

<ul>
<li>Hub - dumb -> connects everyone&#8217;s ports to each other -> every machine&#8217;s send is connected to everyone&#8217;s receive -> lowest level</li>
<li>Switch - smarter -> knows what addresses are connected to what ports - lowers network traffic, sending something once and remembering who responds</li>
<li>Router - smartest -> connects <a href="http://www.merriam-webster.com/dictionary/disparate">disparate</a> networks. Hub and switch talk to each other, for a router, we go through another point -> knows about disparate networks and IP addresses</li>
</ul>
</li>
</ul>


<p>-Network Protocols</p>

<ul>
<li>Operating system knows about the <strong>transport</strong>.

<ul>
<li>Something reliable it will write in <strong>TCP</strong>

<ul>
<li>It has to all get there or the file will be corrupt</li>
<li>there is a control mechanism. If the packets I&#8217;m not sending</li>
</ul>
</li>
<li><strong>UDP</strong> - don&#8217;t want a reliable transport.

<ul>
<li>I don&#8217;t care if it all gets there. Deliver it in order.</li>
<li>You don&#8217;t want a second of video that was sent out of order, you don&#8217;t want to patch it together out of order. Streaming would use UDP.</li>
</ul>
</li>
</ul>
</li>
<li>Routing - my machine doesn&#8217;t know about them.

<ul>
<li><a href="http://en.wikipedia.org/wiki/Routing_Information_Protocol">RIP</a> -</li>
<li><a href="http://en.wikipedia.org/wiki/Open_Shortest_Path_First">OSPF</a> - Open Shortest Path First- a concept of links and weight of links. If you have two possible routes, it will go on</li>
</ul>
</li>
<li><p>Network Address Translation</p>

<ul>
<li>maps traffic coming from an internal network and makes sure the appropriate machine gets the info it requested.</li>
</ul>
</li>
<li><p>traceroute</p></li>
</ul>
</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>traceroute github.com
</span><span class='line'>whois adamjonas.com
</span><span class='line'>ping google.com
</span><span class='line'>curl google.com</span></code></pre></td></tr></table></div></figure>


<ul>
<li><p>nmap
brew install nmap
nmap #map the network</p>

<h1>could run this against port 22 which is all the ssh</h1></li>
<li><p><a href="http://whatismyipaddress.com/">wireshark</a></p></li>
<li><p>hazel- rules based apps</p></li>
<li>cueing in rails</li>
<li><p><a href="http://progrium.com/localtunnel/">local tunnel</a></p></li>
<li><p>blobs, tags, branches, commits</p>

<ul>
<li>blob is just a file -> any data</li>
<li>git hash-object README</li>
</ul>
</li>
<li><p>tree</p>

<ul>
<li>brew install tree</li>
</ul>
</li>
<li><p>Divy or breeze: window arranging</p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FIS Day20]]></title>
    <link href="http://www.blog.adamjonas.com/blog/fis-day20/"/>
    <updated>2012-11-05T08:55:00-05:00</updated>
    <id>http://www.blog.adamjonas.com/blog/fis-day20</id>
    <content type="html"><![CDATA[<h3>UMLs</h3>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Unified_Modeling_Language">Unified Model Language</a></li>
<li>Monolithic user classes

<ul>
<li><a href="http://stackoverflow.com/questions/3179396/what-does-monolithic-mean">definition of monolithic</a></li>
</ul>
</li>
</ul>


<h3>SQL</h3>

<ul>
<li>A has_many :through type query</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>SELECT * FROM song_genres INNER JOIN genres ON genre.id = genre_id FROM song_genre WHERE song_id = 1</span></code></pre></td></tr></table></div></figure>


<h3>Avoiding has_and_belongs_to_many</h3>

<ul>
<li>if you name a column order, connection, attribute, etc., you will run into issues, because those words are reserved</li>
<li><a href="http://archive.culann.com/2008/03/the-evil-unnecessary-has_and_belongs_to_many">don&#8217;t user HABTM</a></li>
<li><a href="http://blog.hasmanythrough.com/2006/4/20/many-to-many-dance-off">Jose Susser isn&#8217;t as adamant</a></li>
</ul>


<h3>Lessons Learned</h3>

<ul>
<li>Parameters in a method HAVE TO BE comma delimited:</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">form_tag</span><span class="p">(</span><span class="n">url_for_options</span> <span class="o">=</span> <span class="p">{},</span> <span class="n">options</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>When using build, you just need to save the parent.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ruby Conf East]]></title>
    <link href="http://www.blog.adamjonas.com/blog/ruby-conf-east/"/>
    <updated>2012-11-03T11:42:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/ruby-conf-east</id>
    <content type="html"><![CDATA[<h3>Spike Driven Design</h3>

<p>Jonathan Berger</p>

<p>spike development:</p>

<blockquote><p>a short investigation into a technique or a problem. The goal is learing and this will be thrown away.</p></blockquote>

<p>Takeaway:</p>

<blockquote><p>a lot of the work from the design phase can go directly into the finished project, without duplication of effort, and without sacrificing quality.</p></blockquote>

<ul>
<li><a href="http://pivotallabs.com/users/jonathanpberger/blog/articles/2349-spike-driven-design">Reading</a></li>
<li><a href="http://www.jonathanpberger.com/sdd-talk1/slides/index.html#/step-1">Slides</a></li>
</ul>


<p>ValueStruct</p>

<h3>Hacking</h3>

<ul>
<li><a href="http://www.flyertalk.com/">flyer talk</a></li>
<li><a href="http://milepoint.com/">Mile Point</a></li>
<li><a href="http://www.itasoftware.com/">Ita software</a></li>
</ul>


<h3>Jeffrey Baird from <a href="http://www.medivo.com/">Medivo</a></h3>

<ul>
<li>rails trained, when do you get to work on mobile? or branch out?</li>
<li>if they have made a commitment to your learning, and</li>
<li><a href="http://elm-lang.org/">Elm</a> and haskell

<ul>
<li><a href="https://github.com/evancz/Elm/wiki">learning elm</a></li>
</ul>
</li>
<li><a href="http://learnyouahaskell.com/chapters">Online Haskell book</a></li>
</ul>


<h3>SOLID principles</h3>

<ul>
<li><a href="http://www.infoq.com/presentations/4-challenges-5-values">Brian Marick on 4 Challenges and 5 Guiding Values of Agile Software Development</a></li>
<li>Listov Substitution

<ul>
<li>you should be able to take the concreation anywhere an abstraction is used.</li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FIS Day19]]></title>
    <link href="http://www.blog.adamjonas.com/blog/fis-day19/"/>
    <updated>2012-11-02T11:57:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/fis-day19</id>
    <content type="html"><![CDATA[<h3>Virtual Attributes:</h3>

<p>There are two rails casts on this&#8230; <a href="http://railscasts.com/episodes/16-virtual-attributes-revised">#16</a> and <a href="http://railscasts.com/episodes/167-more-on-virtual-attributes">#167</a>.</p>

<h3>Rails Lecture</h3>

<p>the name attribute of the HTML determines how it is processed by the server</p>

<p>form_vars pass in the query string since it isn&#8217;t in the</p>

<figure class='code'><figcaption><span>[Rack Does the Parsing](</span><a href='http://guides.rubyonrails.org/form_helpers.html#understanding-parameter-naming-conventions)'>link</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Rack</span><span class="o">::</span><span class="no">Utils</span><span class="o">.</span><span class="n">parse_query</span> <span class="s2">&quot;name=fred&amp;phone=0123456789&quot;</span>
</span><span class='line'><span class="c1"># =&gt; {&quot;name&quot;=&gt;&quot;fred&quot;, &quot;phone&quot;=&gt;&quot;0123456789&quot;}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>This is NOT mass assignment</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">create</span>
</span><span class='line'>  <span class="vi">@song</span> <span class="o">=</span> <span class="no">Song</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:song</span><span class="o">].</span><span class="n">except</span><span class="p">(</span><span class="ss">:artist_name</span><span class="p">))</span>
</span><span class='line'>  <span class="vi">@song</span><span class="o">.</span><span class="n">artist_name</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:song</span><span class="o">][</span><span class="ss">:artist_name</span><span class="o">]</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Attribute Accessbile</h3>

<ul>
<li>attr_protected is the opposite of attr_accessbile</li>
<li>attr_protected whitelists everything except the attributes that are explicitly whitelisted</li>
</ul>


<h3>Associations</h3>

<p>If it has a belongs_to -> you know it has a foreign_key that points to the table it belongs_to
If it has_many -> you know that that thing has a foreign_key that points to the parent table</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Song</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">collect</span><span class="p">{</span> <span class="o">|</span><span class="n">s</span><span class="o">|</span> <span class="n">s</span><span class="o">.</span><span class="n">artist_name</span><span class="p">}</span><span class="o">.</span><span class="n">uniq</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">a</span><span class="o">|</span>
</span><span class='line'>  <span class="n">artist</span> <span class="o">=</span> <span class="no">Artist</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="p">)</span>
</span><span class='line'>  <span class="no">Song</span><span class="o">.</span><span class="n">find_all_by_artist_name</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">s</span><span class="o">|</span>
</span><span class='line'>    <span class="n">s</span><span class="o">.</span><span class="n">artist_id</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">id</span>
</span><span class='line'>    <span class="n">s</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="c1">#TODO: Refactor to use Song.update_all</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>expected Artist, but got String</p>

<figure class='code'><figcaption><span>Assigning the artist to a song</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">m</span> <span class="o">=</span> <span class="no">Artist</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Mike Jackson&quot;</span><span class="p">)</span>
</span><span class='line'><span class="n">s</span><span class="o">.</span><span class="n">artist</span> <span class="o">=</span> <span class="n">m</span>
</span><span class='line'><span class="n">s</span><span class="o">.</span><span class="n">save</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Use Build Not New</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">queen</span><span class="o">.</span><span class="n">songs</span><span class="o">.</span><span class="n">build</span>
</span><span class='line'><span class="n">queen</span><span class="o">.</span><span class="n">songs</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;song name&quot;</span><span class="p">)</span>
</span><span class='line'><span class="c1">#to persist you can save queen OR you can save the song.</span>
</span><span class='line'><span class="n">mmm_bop</span><span class="o">.</span><span class="n">build_artist</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Hanson&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>has_many(name, options = {}, &amp;extension)
In the documentation the model names are replaced by the word collection. In the docs it shows all the methods that can be called on it. <a href="http://apidock.com/rails/ActiveRecord/Associations/ClassMethods/has_many">For example</a></p>

<ul>
<li>Note: collection is replaced with the symbol passed as the first argument, so has_many :clients would add among others clients.empty?.)</li>
</ul>


<blockquote><p>Build is to new, as create is to create</p></blockquote>

<ul>
<li>There is no Artist.build, but there is an Artist.create</li>
</ul>


<p>?? could you add a macro that ran a migration to add the id for the belongs_to table</p>

<h2>Seed Task</h2>

<p>The push method returns an array of all the objects in the array while the build method just returns that one song that you are building&#8230;</p>

<p>From the many it is songs.build and from the belongs it is song.build_artist</p>

<p>You can skip the save on the one to many save&#8230;</p>

<p>build is alias to new.</p>

<p>delete is for nullifying associations
destroy is for destroying objects</p>

<p>Look at end of file for clearing artists and songs.</p>

<figure class='code'><figcaption><span>Seed Task</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">desc</span> <span class="s2">&quot;Create a bunch of seed data for artists and songs&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">task</span> <span class="ss">:seed_artists_and_songs</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:environment</span><span class="p">,</span> <span class="ss">:clear_artists_and_songs</span><span class="o">]</span> <span class="k">do</span>
</span><span class='line'>  <span class="c1"># Build Song Off Artist</span>
</span><span class='line'>  <span class="c1"># Given a Song called R.E.S.P.E.C.T</span>
</span><span class='line'>  <span class="c1"># build the Aretha Franklin Artist</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">s</span> <span class="o">=</span> <span class="no">Song</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;R.E.S.P.E.C.T&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">s</span><span class="o">.</span><span class="n">build_artist</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Aretha Franklin&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">s</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">#Create an Artist</span>
</span><span class='line'>  <span class="c1">#Build a Song for that Artist</span>
</span><span class='line'>  <span class="c1">#Save the Artist</span>
</span><span class='line'>  <span class="n">a</span> <span class="o">=</span> <span class="no">Artist</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>  <span class="n">a</span><span class="o">.</span><span class="n">songs</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Natural Woman&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">a</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>  <span class="c1">#from the many it is songs.build and from the belongs it is song.build_artist</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># Build a Song for that Artist</span>
</span><span class='line'>  <span class="c1"># build song Natural Woman</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># Manually Create Artist Kanye West</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># Push a Song Onto an Artist</span>
</span><span class='line'>  <span class="c1"># push a song onto Kanye West</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># Create Michael Jackson Artist</span>
</span><span class='line'>  <span class="c1"># Make 3 Michael Jackson Songs</span>
</span><span class='line'>  <span class="c1"># push all songs by Michael Jackson</span>
</span><span class='line'>  <span class="n">mike</span> <span class="o">=</span> <span class="no">Artist</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;MJ&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">mike</span><span class="o">.</span><span class="n">songs</span> <span class="o">&lt;&lt;</span> <span class="o">[</span><span class="no">Song</span><span class="o">.</span><span class="n">new</span><span class="p">,</span> <span class="no">Song</span><span class="o">.</span><span class="n">new</span><span class="p">,</span> <span class="no">Song</span><span class="o">.</span><span class="n">new</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># Delete one michael song off of michael</span>
</span><span class='line'>  <span class="c1"># Remove a Song from Artist</span>
</span><span class='line'>  <span class="n">mike</span><span class="o">.</span><span class="n">songs</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">mike</span><span class="o">.</span><span class="n">songs</span><span class="o">.</span><span class="n">first</span><span class="p">)</span> <span class="c1"># this won&#39;t destroy the object, it will delete the association</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">task</span> <span class="ss">:clear_artists_and_songs</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:environment</span><span class="o">]</span> <span class="k">do</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;Deleting all Artists and Songs....&quot;</span>
</span><span class='line'>
</span><span class='line'>  <span class="no">Artist</span><span class="o">.</span><span class="n">delete_all</span>
</span><span class='line'>  <span class="no">Song</span><span class="o">.</span><span class="n">delete_all</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FIS Day18]]></title>
    <link href="http://www.blog.adamjonas.com/blog/fis-day18/"/>
    <updated>2012-11-01T13:42:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/fis-day18</id>
    <content type="html"><![CDATA[<h3>POTD</h3>

<ul>
<li><p>Edsgar Dijkstra</p>

<ul>
<li>inventor of structured programming</li>
<li>came up with &#8220;for, while, until, case&#8221;</li>
<li>computer science is not about machines and equipment management</li>
</ul>
</li>
<li><p>If you use more of a bad tool, it won&#8217;t fix it.</p>

<blockquote><p>About the use of language; it is impossible to sharpen a pencil with a blunt axe. It is equally vain to try to do it with ten blunt axes instead.</p></blockquote></li>
<li><p>Programming is just about communicating clearly.</p></li>
<li>Once it is teachable it is concrete.</li>
</ul>


<h3>Ruby Tidbit</h3>

<figure class='code'><figcaption><span>Semi-Colon Deliminates a Line</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">create</span><span class="p">;</span><span class="k">end</span>
</span><span class='line'><span class="c1">#the semi-colon deliminates the info on two lines</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Rails Lecture</h2>

<figure class='code'><figcaption><span>link to unless current</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;%=</span> <span class="n">link_to_unless_current</span> <span class="o">%&gt;</span> <span class="c1">#this is slick for nav!</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Routes</strong></p>

<figure class='code'><figcaption><span>Routes File</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">match</span> <span class="s1">&#39;/name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;songs#name&#39;</span>
</span><span class='line'><span class="c1">#not as specific and therefore as good as</span>
</span><span class='line'><span class="n">get</span> <span class="s1">&#39;/name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;songs#name&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">get</span> <span class="s1">&#39;site/about&#39;</span> <span class="c1">#rails will assume that site is the controller and about is the action</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Generate a Controller</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rails</span> <span class="n">generate</span> <span class="n">controller</span> <span class="no">CreditCard</span> <span class="nb">open</span> <span class="n">debit</span> <span class="n">credit</span> <span class="n">close</span>
</span><span class='line'><span class="c1">#this will create a credit_card_controller with 4 actions</span>
</span></code></pre></td></tr></table></div></figure>


<p>??have to delete rm-rf public/index.html</p>

<figure class='code'><figcaption><span>Rendering Templates</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Sessions</span> <span class="no">Controller</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
</span><span class='line'>
</span><span class='line'><span class="n">render</span> <span class="ss">:action</span>
</span><span class='line'><span class="n">render</span> <span class="ss">:template</span>
</span><span class='line'><span class="c1">#in practice</span>
</span><span class='line'><span class="n">render</span> <span class="s1">&#39;under_construction&#39;</span> <span class="c1">#this is the action in the sessions controller</span>
</span><span class='line'><span class="n">render</span> <span class="s1">&#39;shared/under_construction&#39;</span> <span class="c1">#this is a full relative path</span>
</span><span class='line'><span class="c1">#and more instructional of where to find the template</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Private and public methods</h3>

<figure class='code'><figcaption><span>Private Method e.g.</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Dog</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">bark</span>
</span><span class='line'>    <span class="k">case</span> <span class="n">stomach_volume</span>
</span><span class='line'>    <span class="k">when</span> <span class="ss">:very</span>
</span><span class='line'>      <span class="nb">puts</span> <span class="s2">&quot;woof woof!&quot;</span>
</span><span class='line'>    <span class="k">when</span> <span class="ss">:not_at_all</span>
</span><span class='line'>      <span class="nb">puts</span> <span class="s2">&quot;woof&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="kp">private</span> <span class="c1">#it would also break if this was protected.</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">stomach_volume</span>
</span><span class='line'>    <span class="ss">:very</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">fido</span> <span class="o">=</span> <span class="no">Dog</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="n">fido</span><span class="o">.</span><span class="n">stomach_volume</span> <span class="c1">#this is not going to work.</span>
</span></code></pre></td></tr></table></div></figure>


<p>private, public, and protected all create keyword scope -> created limited, predicted interfaces</p>

<p>if a method is private it can only be called on an implicit receiver- can&#8217;t call call on an explicit receiver</p>

<p><strong>protected</strong> -> can only be called on self.</p>

<figure class='code'><figcaption><span>When Private Methods Become Useful in the Controller</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">SomeController</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">new</span>
</span><span class='line'>  <span class="n">under_construction</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">create</span>
</span><span class='line'>  <span class="n">under_constructions</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="kp">private</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">under_construction</span>
</span><span class='line'>  <span class="n">render</span> <span class="s1">&#39;shared/under_construction&#39;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>In the migration</h3>

<ul>
<li>def change for when the reverse can be assumed</li>
<li><p>def up and down for things like renaming columns -> because rails wouldn&#8217;t be able to infer what the reverse would be.</p></li>
<li><p>t.timestamps - is a created at and updated at</p></li>
</ul>


<h3>Signups</h3>

<p>when you login, you are creating a session between you and the website.
when you signup you are creating a user on their system&#8211; that lives in their DB</p>

<figure class='code'><figcaption><span>Routes</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">get</span> <span class="s1">&#39;/signup&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;users#new&#39;</span>
</span><span class='line'><span class="n">post</span> <span class="s1">&#39;/signup&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;users#create&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Mass assignment => when you assign initialization properties during assingment.</strong></p>

<ul>
<li><p>Migrations</p>

<ul>
<li>define and edit schema</li>
</ul>
</li>
<li><p>Models -ORM</p>

<ul>
<li>insert rows /update</li>
<li>database</li>
</ul>
</li>
<li><p>Routes
maps URLs to actions in the controller</p></li>
<li><p>controllers</p>

<ul>
<li>contains the business logic</li>
</ul>
</li>
<li><p>views</p>

<ul>
<li>the actual interface</li>
</ul>
</li>
</ul>


<p>-> In sinatra the routes are built into controllers.</p>

<figure class='code'><figcaption><span>This must be how form_for works</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">form_for</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span><span class='line'>  <span class="n">f</span> <span class="o">=</span> <span class="no">FormBuilder</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span class='line'>  <span class="k">yield</span> <span class="n">f</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><em>In your controller helper&#8230;</em></p>

<figure class='code'><figcaption><span>Rolling My Own Form Builder</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="sx">%= form_for(@song, :builder =</span> <span class="o">&gt;</span> <span class="no">SongHelper</span><span class="o">::</span><span class="no">SongForm</span><span class="p">)</span> <span class="o">%&gt;</span>
</span><span class='line'><span class="c1">#in the controller helper</span>
</span><span class='line'>
</span><span class='line'><span class="k">module</span> <span class="nn">SongsHelper</span>
</span><span class='line'>  <span class="k">class</span> <span class="nc">SongForm</span> <span class="o">&lt;</span> <span class="no">ActionView</span><span class="o">::</span><span class="no">Helpers</span><span class="o">::</span><span class="no">FormBuilder</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">full_name_field</span>
</span><span class='line'>      <span class="n">label</span><span class="p">(</span><span class="ss">:first_name</span><span class="p">)</span> <span class="o">+</span>
</span><span class='line'>      <span class="n">text_field</span> <span class="ss">:first_name</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">label</span><span class="p">(</span><span class="ss">:last_name</span><span class="p">)</span> <span class="o">+</span>
</span><span class='line'>      <span class="n">text_field</span> <span class="ss">:last_name</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Customizing the forms and encapsulate in the controller helpers&#8230;</p>

<h3>Test::Unit to RSpec</h3>

<p>change out the libraries
add rspec to the gem file
rip out test folder</p>

<p>rails g install rspec</p>

<p><a href="http://stackoverflow.com/questions/9884033/ruby-on-rails-switch-from-test-unit-to-rspec">changing from minitest to rspec</a> <a href="http://stackoverflow.com/questions/5072662/how-to-remove-unit-test-and-replace-it-with-rspec">or</a></p>

<p>&#8220;when i generated the scaffold, it generated the specs for me&#8230;&#8221;</p>

<h3>Posting Info to an object</h3>

<ol>
<li>instantiate an instance</li>
<li>collect the form data</li>
<li>and you populate the instance attribute with the proper data</li>
</ol>


<p>If I want to use form_for I need an active record instance.</p>

<h3>Read this&#8230;</h3>

<p><a href="http://guides.rubyonrails.org/v2.3.11/form_helpers.html#understanding-parameter-naming-conventions">Understand parameter naming conventions</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FIS Day17andahalf]]></title>
    <link href="http://www.blog.adamjonas.com/blog/fis-day17andahalf/"/>
    <updated>2012-10-31T18:40:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/fis-day17andahalf</id>
    <content type="html"><![CDATA[<h3><a href="http://www.rubygeocoder.com/">Geocoder</a></h3>

<p>This gem is amazing. I can calucalate the latitude and longitude of anywhere by an address and so much more. Not surprisingly there is a great <a href="http://railscasts.com/episodes/273-geocoder">railscast</a> on the subject.</p>

<ul>
<li>Ryan Bates also suggested that I look at <a href="https://github.com/apneadiving/Google-Maps-for-Rails">Google-Maps-for-Rails</a></li>
</ul>


<h3>Authentication</h3>

<p>I had broken the authentication system in my <a href="http://gearshare.herokuapp.com/">gearshare app</a>. <a href="http://railscasts.com/episodes/241-simple-omniauth">Ryan Bates</a> to the rescue once again.</p>

<h3>Sessions Issues</h3>

<p>I was having some trouble killing the session. Avi added this code in the sessions_controller.</p>

<figure class='code'><figcaption><span>In the sessions controller</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">destroy</span>
</span><span class='line'>  <span class="n">session</span><span class="o">[</span><span class="ss">:user_id</span><span class="o">]</span> <span class="o">=</span> <span class="kp">nil</span>
</span><span class='line'>  <span class="n">reset_session</span> <span class="c1">#this was the key....</span>
</span><span class='line'>  <span class="n">redirect_to</span> <span class="n">root_url</span><span class="p">,</span> <span class="ss">:notice</span> <span class="o">=&gt;</span> <span class="s2">&quot;Signed out!&quot;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Git Rebase</h3>

<p>I also rebased a branch using the following command&#8230;</p>

<figure class='code'><figcaption><span>In the sessions controller</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">git</span> <span class="n">rebase</span> <span class="n">master</span>
</span></code></pre></td></tr></table></div></figure>


<p>This rebased the up-to-date master underneath my branch that was ahead by a few commits, but had a broken authentication system. There is a complete explanation of this and more in the <a href="http://git-scm.com/book/en/Git-Branching-Rebasing">git book</a>.</p>

<h3>Stripe</h3>

<p>Met Richard who walked me through the <a href="https://stripe.com/">stripe</a> that makes payments silly easy. Very exciting to integrate this into the bounty open-source idea&#8230;</p>

<h3>Podcast</h3>

<p>I should start listening to this&#8230; Peter Cooper and Jason Seifer&#8211; it&#8217;s got to be pretty solid.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Accepts Nested Attributes For]]></title>
    <link href="http://www.blog.adamjonas.com/blog/accepts-nested-attributes-for/"/>
    <updated>2012-10-31T16:14:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/accepts-nested-attributes-for</id>
    <content type="html"><![CDATA[<p>So accepts nested attributes is really about writing to an attribute of a class.</p>

<p>In my case a location belongs_to a user. I was then trying to set the location.street1 through the user, but it wouldn&#8217;t write. This is because it needs the accepts_nested_attributes method in the model.</p>

<figure class='code'><figcaption><span>If I want to manage questions through my surveys forms&#8230;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Survey</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</span><span class='line'>  <span class="n">has_many</span> <span class="ss">:questions</span><span class="p">,</span> <span class="ss">:dependent</span> <span class="o">=&gt;</span> <span class="ss">:destroy</span>
</span><span class='line'>  <span class="n">accepts_nested_attributes_for</span> <span class="ss">:questions</span><span class="p">,</span> <span class="n">allow_destroy</span><span class="p">:</span> <span class="kp">true</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://railscasts.com/episodes/196-nested-model-form-revised">Railscast</a>
  - min 6 javascript</p>

<p>destroy -> allow_destroy: true</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Foolin with the Facebook API]]></title>
    <link href="http://www.blog.adamjonas.com/blog/foolin-with-the-facebook-api/"/>
    <updated>2012-10-30T17:08:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/foolin-with-the-facebook-api</id>
    <content type="html"><![CDATA[<p>Most of what I needed was <a href="https://github.com/arsduo/koala/wiki/Graph-API">here</a>. Facebook does a good job with the documentation overall. The missing piece of the puzzle is how to execute the FQL&#8230;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@graph = Koala::Facebook::API.new
</span><span class='line'>
</span><span class='line'>@graph.get_connections("me", "mutualfriends/#{friendsuid}")
</span><span class='line'>#=&gt; yields all our mutual friends
</span><span class='line'>
</span><span class='line'>#can also retrieve many objects at one time...
</span><span class='line'>@graph.get_objects([1007413,929972])</span></code></pre></td></tr></table></div></figure>


<p>I&#8217;m not quite sure how to best run the facebook query language(FQL)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>SELECT name,description,geometry,latitude,longitude,checkin_count,display_subtext FROM place WHERE page_id=110506962309835</span></code></pre></td></tr></table></div></figure>


<p>Above would give me a hash of all the attributes of Palo Alto, CA. Getting <a href="http://developers.facebook.com/docs/reference/fql/place/">place info via FQL</a> seems rather straight forward. Again, it&#8217;s the integration that I am struggling with.</p>

<p>Gathering a hash of friends&#8217; location wasn&#8217;t a killer, though it did take some trial and error&#8230;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>friends_location = get_connections("me", "friends", :fields =&gt; "name, id, location")</span></code></pre></td></tr></table></div></figure>


<p>What I need is a FQL wrapper and to create a lib within my own app that just passes the parameters to the models and emcompasses all the interaction with the external FB open graph.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How the internet works]]></title>
    <link href="http://www.blog.adamjonas.com/blog/how-the-internet-works/"/>
    <updated>2012-10-30T11:42:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/how-the-internet-works</id>
    <content type="html"><![CDATA[<p>HTTP is all about applying verbs to nouns.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Agile Web Development with Rails]]></title>
    <link href="http://www.blog.adamjonas.com/blog/agile-web-development-with-rails/"/>
    <updated>2012-10-30T10:33:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/agile-web-development-with-rails</id>
    <content type="html"><![CDATA[<ul>
<li>ORM libraries map database tables to classes, rows to objects, and columns to attributes of those objects.</li>
<li>Class methods are used to perform table-level operations</li>
<li>Instance methods are used to perform operations on individual rows.</li>
<li>Modules server two purposes

<ul>
<li>namespace: letting you define methods whose names will not clash with those defined elsewhere</li>
<li>And they allow you to share functionality between classes</li>
</ul>
</li>
<li>a ||= b</li>
</ul>


<figure class='code'><figcaption><span>a op= b is the same as a = a operation b</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'><span class="c1">#same as</span>
</span><span class='line'><span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class='line'>
</span><span class='line'><span class="n">price</span> <span class="o">*=</span> <span class="n">discount</span>
</span><span class='line'><span class="c1">#same as</span>
</span><span class='line'><span class="n">price</span> <span class="o">=</span> <span class="n">price</span> <span class="o">*</span> <span class="n">discount</span>
</span><span class='line'>
</span><span class='line'><span class="n">count</span> <span class="o">||=</span> <span class="mi">0</span>
</span><span class='line'><span class="c1">#same as</span>
</span><span class='line'><span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">||</span> <span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>lambda</li>
<li>numericality</li>
<li>catelog display is really just a glorified product listing.</li>
<li>everytime a request comes in, we can recover the identity from the session and use it to find the cart in the database</li>
<li>dependent: :destroy -> indicates that the existance of line items is dependent on the existance of the cart</li>
<li>if a table has foreign keys, the corresponding model should have a belongs_to for each.</li>
<li>the default HTTP method for a link is a get, the default HTTP method for a button is a post.</li>
<li>@cart.line_items.build -> this casuse a new line item relationship to be built between the @cart object and the product. You can build the relationship from either end.</li>
<li>Rails matches on is add_XXX_to_TABLE and remove_XXX_from_TABLE where the value XXX is ignored; what matters is the list of the column names and the types that appear after the migration name.</li>
<li>link_to_unless_current</li>
<li>if @person is just an empty object structure, form_form will work on the assunmption that this is to creat a new object. If @person actually contains data, however, form_for will assume that its form is editing that object and create a different looking form element, a hidden field to enable Rails&#8217; REST capabilities.</li>
<li>helpers are simply modules containing methods that assist a view.</li>
<li>link_to and link_to_if take a condition parameter</li>
<li>a flash is a bucket (acutally closer to a hash) in which you can store stuf as you process a request.</li>
<li>you can pass parameters to a partial, so that the partial can render different results.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Dynamic Dispatching &amp; Send]]></title>
    <link href="http://www.blog.adamjonas.com/blog/dynamic-dispatching-and-send/"/>
    <updated>2012-10-29T15:32:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/dynamic-dispatching-and-send</id>
    <content type="html"><![CDATA[<p>Given a file with&#8230;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>admin : Bill
</span><span class='line'>title : Rubyland
</span><span class='line'>topic : Ruby and more</span></code></pre></td></tr></table></div></figure>


<p>You could build a method that maps the keys and values with dynamic dispatching&#8230;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Load configuration if any</span>
</span><span class='line'><span class="k">if</span> <span class="n">conf</span><span class="o">.</span><span class="n">rc</span> <span class="ow">and</span> <span class="no">File</span><span class="o">.</span><span class="n">exists?</span><span class="p">(</span> <span class="n">conf</span><span class="o">.</span><span class="n">rc</span> <span class="p">)</span>
</span><span class='line'>  <span class="no">YAML</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="n">conf</span><span class="o">.</span><span class="n">rc</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="o">|</span>
</span><span class='line'>    <span class="n">conf</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">#{</span><span class="n">k</span><span class="si">}</span><span class="s2">=&quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="c1">#the beauty of dynamic dispatching in motion</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>(this e.g. is from page 68 of the Prag Programmer&#8217;s Metapramming Book)</p>

<figure class='code'><figcaption><span>This code needs to be much more DRY</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Computer</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">computer_id</span><span class="p">,</span> <span class="n">data_source</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@id</span> <span class="o">=</span> <span class="n">computer_id</span>
</span><span class='line'>    <span class="vi">@data_source</span> <span class="o">=</span> <span class="n">data_source</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">mouse</span>
</span><span class='line'>    <span class="n">info</span> <span class="o">=</span> <span class="vi">@data_source</span><span class="o">.</span><span class="n">get_mouse_info</span><span class="p">(</span><span class="vi">@id</span><span class="p">)</span>
</span><span class='line'>    <span class="n">price</span> <span class="o">=</span> <span class="vi">@data_source</span><span class="o">.</span><span class="n">get_mouse_price</span><span class="p">(</span><span class="vi">@id</span><span class="p">)</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;Mouse: </span><span class="si">#{</span><span class="n">info</span><span class="si">}</span><span class="s2"> ($</span><span class="si">#{</span><span class="n">price</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span class='line'>    <span class="k">return</span> <span class="s2">&quot;* </span><span class="si">#{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">price</span> <span class="o">&gt;=</span> <span class="mi">100</span>
</span><span class='line'>    <span class="n">result</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">cpu</span>
</span><span class='line'>    <span class="n">info</span> <span class="o">=</span> <span class="vi">@data_source</span><span class="o">.</span><span class="n">get_cpu_info</span><span class="p">(</span><span class="vi">@id</span><span class="p">)</span>
</span><span class='line'>    <span class="n">price</span> <span class="o">=</span> <span class="vi">@data_source</span><span class="o">.</span><span class="n">get_cpu_price</span><span class="p">(</span><span class="vi">@id</span><span class="p">)</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;Cpu: </span><span class="si">#{</span><span class="n">info</span><span class="si">}</span><span class="s2"> ($</span><span class="si">#{</span><span class="n">price</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span class='line'>    <span class="k">return</span> <span class="s2">&quot;* </span><span class="si">#{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">price</span> <span class="o">&gt;=</span> <span class="mi">100</span>
</span><span class='line'>    <span class="n">result</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">keyboard</span>
</span><span class='line'>    <span class="n">info</span> <span class="o">=</span> <span class="vi">@data_source</span><span class="o">.</span><span class="n">get_keyboard_info</span><span class="p">(</span><span class="vi">@id</span><span class="p">)</span>
</span><span class='line'>    <span class="n">price</span> <span class="o">=</span> <span class="vi">@data_source</span><span class="o">.</span><span class="n">get_keyboard_price</span><span class="p">(</span><span class="vi">@id</span><span class="p">)</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;Keyboard: </span><span class="si">#{</span><span class="n">info</span><span class="si">}</span><span class="s2"> ($</span><span class="si">#{</span><span class="n">price</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span class='line'>    <span class="k">return</span> <span class="s2">&quot;* </span><span class="si">#{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">price</span> <span class="o">&gt;=</span> <span class="mi">100</span>
</span><span class='line'>    <span class="n">result</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># ...</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is much cleaner</p>

<figure class='code'><figcaption><span>Refactored with simple interpolation</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Computer</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">computer_id</span><span class="p">,</span> <span class="n">data_source</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@id</span> <span class="o">=</span> <span class="n">computer_id</span>
</span><span class='line'>    <span class="vi">@data_source</span> <span class="o">=</span> <span class="n">data_source</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">define_component</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
</span><span class='line'>    <span class="n">define_method</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">info</span> <span class="o">=</span> <span class="vi">@data_source</span><span class="o">.</span><span class="n">send</span> <span class="s2">&quot;get_</span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">_info&quot;</span><span class="p">,</span> <span class="vi">@id</span>
</span><span class='line'>      <span class="n">price</span> <span class="o">=</span> <span class="vi">@data_source</span><span class="o">.</span><span class="n">send</span> <span class="s2">&quot;get_</span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">_price&quot;</span><span class="p">,</span> <span class="vi">@id</span>
</span><span class='line'>      <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="nb">name</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">capitalize</span><span class="si">}</span><span class="s2">: </span><span class="si">#{</span><span class="n">info</span><span class="si">}</span><span class="s2"> ($</span><span class="si">#{</span><span class="n">price</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span class='line'>      <span class="k">return</span> <span class="s2">&quot;* </span><span class="si">#{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">price</span> <span class="o">&gt;=</span> <span class="mi">100</span>
</span><span class='line'>      <span class="n">result</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">define_component</span> <span class="ss">:mouse</span>
</span><span class='line'>  <span class="n">define_component</span> <span class="ss">:cpu</span>
</span><span class='line'>  <span class="n">define_component</span> <span class="ss">:keyboard</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Namespacing]]></title>
    <link href="http://www.blog.adamjonas.com/blog/namespacing/"/>
    <updated>2012-10-29T15:16:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/namespacing</id>
    <content type="html"><![CDATA[<p>Say my friend has a sister named Sue, and so do I. How can I tell them apart in a conversation? By using their last name. The last name is the namespace.</p>

<p>Modules define a namespace, a sandbox in which your methods and constants can play without having to worry about being stepped on by other methods and constants.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Dog</span>
</span><span class='line'>  <span class="no">Species</span> <span class="o">=</span> <span class="o">[</span><span class="s2">&quot;Poodle&quot;</span><span class="o">]</span>
</span><span class='line'> <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Dog::Species => Species is a Constant within the Dog class. Species could be a class it could be a module, but it is a child of Dog.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ternary Operator]]></title>
    <link href="http://www.blog.adamjonas.com/blog/ternary-operator/"/>
    <updated>2012-10-29T14:21:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/ternary-operator</id>
    <content type="html"><![CDATA[<p>Ternary operators are simply a short form of an if-else statement in one line.</p>

<p>The following sample will print “The variable is 10″ if var is equal to 10. Otherwise it will print “The variable is Not 10″.</p>

<figure class='code'><figcaption><span>An example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">print</span> <span class="err">“</span><span class="no">The</span> <span class="n">variable</span> <span class="n">is</span> <span class="err">”</span> <span class="o">+</span> <span class="p">(</span><span class="n">var</span> <span class="o">==</span> <span class="mi">10</span> <span class="o">?</span> <span class="err">“</span><span class="mi">10</span><span class="err">″</span> <span class="p">:</span> <span class="err">“</span><span class="no">Not</span> <span class="mi">10</span><span class="err">″</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ruby evaluates the expression to the left of the question mark. If that expression is true then it returns the expression between the question mark and the colon, if the expression is false, it returns what comes after the colon.</p>

<figure class='code'><figcaption><span>Ternary Operator</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">age</span> <span class="o">=</span> <span class="mi">15</span>
</span><span class='line'><span class="c1"># will output teenager  </span>
</span><span class='line'><span class="nb">puts</span> <span class="p">(</span><span class="mi">13</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="mi">19</span><span class="p">)</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="n">age</span><span class="p">)</span> <span class="p">?</span> <span class="s2">&quot;teenager&quot;</span> <span class="p">:</span> <span class="s2">&quot;not a teenager&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#can also do assignment</span>
</span><span class='line'><span class="n">age</span> <span class="o">=</span> <span class="mi">23</span>
</span><span class='line'><span class="n">person</span> <span class="o">=</span> <span class="p">(</span><span class="mi">13</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="mi">19</span><span class="p">)</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="n">age</span><span class="p">)</span> <span class="p">?</span> <span class="s2">&quot;teenager&quot;</span> <span class="p">:</span> <span class="s2">&quot;not a teenager&quot;</span>
</span><span class='line'><span class="nb">puts</span> <span class="n">person</span> <span class="c1"># =&gt; &quot;not a teenager&quot; </span>
</span></code></pre></td></tr></table></div></figure>


<p>The part before the question mark is the &#8220;if condition&#8221;. the part behind it is the code to be run if the condition matches. the &#8220;:&#8221; respresents &#8220;else&#8221;, and the code behind it the code to be run if the condition does not maztch.</p>

<figure class='code'><figcaption><span>Ternary Operator in the view</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="n">h3</span><span class="o">&gt;</span><span class="no">Name</span><span class="p">:</span><span class="o">&lt;</span><span class="sr">/h3&gt;</span>
</span><span class='line'><span class="sr">&lt;% if @user.name %&gt;</span>
</span><span class='line'><span class="sr">&lt;%= @user.name %&gt;</span>
</span><span class='line'><span class="sr">&lt;% else %&gt;</span>
</span><span class='line'><span class="sr">&lt;em&gt;[no name set]&lt;/em</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="sx">% end %&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sx">#can be refactored as</span>
</span><span class='line'>
</span><span class='line'><span class="sx">&lt;h3&gt;</span><span class="no">Name</span><span class="p">:</span><span class="o">&lt;</span><span class="sr">/h3&gt;</span>
</span><span class='line'><span class="sr">&lt;%= @user.name ? @user.name : &quot;&lt;em&gt;[no name set]&lt;/em</span><span class="o">&gt;</span><span class="s2">&quot; %&gt;</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Storm Weekend]]></title>
    <link href="http://www.blog.adamjonas.com/blog/storm-weekend/"/>
    <updated>2012-10-29T09:25:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/storm-weekend</id>
    <content type="html"><![CDATA[<p>change the hotkeys in terminal to switch through the windows like sublime.</p>

<p>How the web works: HTTP and CGI explained
- cgi vs. api?</p>

<h2>Learn to Program 3</h2>

<ul>
<li>Required * in the builder label in the f.label and then use validation or create a new tag?</li>
<li>:builder argument in form_form</li>
<li>&lt;% for award in student award %></li>
<li>@student.awards.build(params[:id])</li>
<li>unprocessessbile_entity</li>
<li>options_from_collection_for_select helper method</li>
<li>how do migrations work with a shared repo&#8230; lots of people pushing up. If you run rake db:migrate it can&#8217;t run other&#8217;s unapplied migrations. How is this handled?</li>
<li>in migrations, need to specify different types (like decimal) according to the DB- postgres vs. mysql. Or b/c it is database agnostic, the migration takes care of it?</li>
<li>unique at the model level or the migration level?</li>
<li>rails console &#8211;sandbox? exist? ever use this or just irb?</li>
<li>testing nested resources? using functional tests (for controllers)?</li>
<li>use of cookies not having to do with session?

<ul>
<li>javascript can reach directly into a cookie?</li>
<li>standard lifetime to set for a cookie? privacy vs. functionality?</li>
</ul>
</li>
<li>&lt;%=h  %> what tag is that with the h in it?</li>
<li><p>CookieStore (rails default &#8211; all the info goes in the session object) vs ActiveRecord SessionStore (just the identifier and the rest in the DB)</p></li>
<li><p>SQL injection</p></li>
<li>HTML safe is needed in what context? related to cross-site scripting. Why not use in every tag? rails 3 does this automatically?</li>
<li>cross-site forgery- if a user remains logged in, CSRF allows someone from another site to use a POST request to gain access? How? authenticity token is the solution to authenticate that the request actually came from the proper client.<a href="http://guides.rubyonrails.org/action_controller_overview.html#request-forgery-protection">see</a></li>
<li>mongrel?</li>
<li>*=require_tree -> what is this? when to remove it like for SASS?</li>
<li>whiny_nils</li>
<li>rails enterprise, ruby enterprise</li>
<li><p>is sanitize necessary any longer? examples?</p></li>
<li><p>Notes:</p>

<ul>
<li>belongs_to and has_many are method names that take parameters
:dependent => :destroy prevents orphaned data and reinforces referential integrity</li>
<li>nesting a resouce is akin to making it subordinate</li>
<li>@course.students could return all the student objects enrolled in that course. With a many to many relationship attributes like @student.name and @student.gpa would also be accessible.</li>
<li>rake db:reset -> just resets to the last structure applied. Won&#8217;t drop it like db:drop</li>
<li>add :index vs. t.reference?</li>
<li>rake test -> for running fixtures</li>
<li>unit testing is really model testing</li>
<li>rake test:units -> runs just the unit tests</li>
<li>flash notices are stored in a session object and only survive one redirect (or reloads) since they are stateless</li>
<li>dom_id helper lets you put identifiers into HTML documents.</li>
<li>before_filter :check_login -> creating a check_login method is the standard way to work on authorization after you have created authentication</li>
<li>rake routes | grep root is an easy way to get the route you are looking for.</li>
<li><a href="http://guides.rubyonrails.org/routing.html#route-globbing">globbing</a> route extensions using an asterisk</li>
<li>Sprockets started shipping with Rails 3.1 for compiling and serving web assets like javascript and css files.</li>
<li>gem &#8216;gemname&#8217;, &#8216;~> 2.11.12&#8217; &#8211;> only update the last number in the version number</li>
<li>gem &#8216;gemname&#8217;, &#8216;>= 2.11.12&#8217; &#8211;> only load 2.11.12 or higher</li>
</ul>
</li>
</ul>


<figure class='code'><figcaption><span>Gem File for dev vs. production</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">group</span> <span class="ss">:development</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;nifty-generators&#39;</span> <span class="s1">&#39;~&gt; 0.4.6&#39;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">group</span> <span class="ss">:development</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;somethingineedforproduction&#39;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span>Nested Routes</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">resources</span> <span class="ss">:students</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">resources</span> <span class="ss">:awards</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="c1">#7 RESTful routes, but now they shift to student_award and new_student_award</span>
</span><span class='line'><span class="c1">#could create other nested routes like</span>
</span><span class='line'><span class="n">resources</span> <span class="ss">:students</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">resources</span> <span class="ss">:awards</span>
</span><span class='line'>  <span class="n">resources</span> <span class="ss">:pets</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><em>Resources should never be nested more than 1 level deep.</em> <a href="http://guides.rubyonrails.org/routing.html#nested-resources">see the guides for more on nested routes</a></p>

<figure class='code'><figcaption><span>HTTP Verb Constraints</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">match</span> <span class="s1">&#39;photos/show&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;photos#show&#39;</span><span class="p">,</span> <span class="ss">:via</span> <span class="o">=&gt;</span> <span class="ss">:get</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://guides.rubyonrails.org/routing.html#http-verb-constraints">see</a>
Sassy CSS
$ is for variable names
&amp; is for nesting</p>

<figure class='code'><figcaption><span>HTTP Verb Constraints</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">a</span> <span class="p">{</span>
</span><span class='line'><span class="n">color</span><span class="p">:</span> <span class="c1">#0b90834</span>
</span><span class='line'><span class="c1">#other stuff</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="o">&amp;.</span><span class="n">show</span> <span class="p">{</span>
</span><span class='line'><span class="n">color</span> <span class="p">:</span> <span class="c1">#DB4327</span>
</span><span class='line'><span class="c1">#the ampersand means that it is nested in the above class</span>
</span></code></pre></td></tr></table></div></figure>


<h3>MIT Lecture:</h3>

<p>layer the level of abstraction ~> like Ohm&#8217;s Law</p>

<h3><a href="http://www.garshol.priv.no/download/text/http-tut.html">How the web works</a>- reading:</h3>

<blockquote><p>Uniform Resource Indicator (URIs) embodies both URLs and URNs
Uniform Resource Locator (URLs)- is what you think it is.
Uniform Resource Names (URNs)- similar in concept but don&#8217;t have to occur over a network. (e.g. ISBN numbers are URNs)</p></blockquote>

<ul>
<li>A web server is a just a computer program that listens for requests from browsers and then execute them.</li>
<li>HTTP only defines what the browser and web server say to each other, not how they communicate. The actual work of moving bits and bytes back and forth across the network is done by TCP and IP,</li>
<li>Most URLs have this basic form: &#8220;protocol://server/request-URI&#8221;</li>
<li>This request string is all the server ever sees. So the server doesn&#8217;t care if the request came from a browser, a link checker, a validator, a search engine robot or if you typed it in manually. It just performs the request and returns the result.</li>
<li>to the browser, the server works as a black box. Ie: the browser requests a specific document and the document is either returned or an error message is returned.</li>
<li>This means that the server can read it from a file, run a program that generates it, compile it by parsing some kind of command file or (very unlikely, but in principle possible) have it dictated by the server administrator via speech recognition software. This gives the server administrator great freedom to experiment with different kinds of services as the users don&#8217;t care (or even know) how pages are produced.</li>
<li>can use <a href="http://en.wikipedia.org/wiki/Telnet">telnet</a> to write HTTP requests directly to web servers.</li>
<li>Status Codes

<ul>
<li>1xx: Informational</li>
<li>2xx: Successful</li>
<li>3xx: Redirection</li>
<li>4xx: Client Error</li>
<li>5xx: Server Error</li>
</ul>
</li>
<li>Proxy cache

<ul>
<li>Browsers still have their local caches, but HTTP requests for documents not in the browser cache rather than being sent to the server are to the proxy cache. If the proxy has the document in its cache it will just return the document (like the browser cache would), and if it doesn&#8217;t it will submit the request on behalf of the browser, store the result and relay it to the browser.</li>
</ul>
</li>
<li>CGI (Common Gateway Interface) is a way for web servers and server-side programs to interact.

<ul>
<li>CGI is completely independent of programming language, operating system and web server. Currently it is the most common server-side programming technique and it&#8217;s also supported by almost every web server in existence. Moreover, all servers implement it in (nearly) the same way, so that you can make a CGI script for one server and then distribute it to be run on any web server.</li>
<li>A web server that supports CGI can be configured to interpret a URL that it serves as a reference to a CGI script. A common convention is to have a cgi-bin/ directory at the base of the directory tree and treat all executable files within it as CGI scripts.</li>
</ul>
</li>
<li>can submit a form with a GET request and a query string rather than just POST request

<ul>
<li>If the data can be long (more than 256 characters) it is a bit risky to use GET as the URL can end up being snipped in transit.</li>
</ul>
</li>
</ul>


<h3><a href="http://www.youtube.com/watch?v=mBXGBbEbXZY">Symbol video</a> with Peter Cooper</h3>

<ul>
<li>&#8220;If the textual context is important, use a string.&#8221;</li>
<li>&#8220;If the identity of the object is important use a symbol.&#8221; - Jim Weirich</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s2">&quot;gender&quot;</span><span class="o">.</span><span class="n">intern</span> <span class="c1">#=&gt; :gender</span>
</span><span class='line'><span class="sx">%s{gender}</span> <span class="c1">#=&gt; :gender</span>
</span><span class='line'>
</span><span class='line'><span class="n">words</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:upcase</span><span class="p">)</span> <span class="c1">#=&gt; symbol to proc</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Gem File</h3>

<ul>
<li>way to <a href="http://gembundler.com/gemfile.html">call a gem in your gemfile</a></li>
</ul>


<h3>Guides Reading:</h3>

<ul>
<li><a href="http://guides.rubyonrails.org/action_controller_overview.html#http-authentications">Basic HTTP authenticationn</a></li>
<li><a href="http://guides.rubyonrails.org/routing.html#inspecting-and-testing-routes">testing routes</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FIS Day17]]></title>
    <link href="http://www.blog.adamjonas.com/blog/fis-day17/"/>
    <updated>2012-10-26T09:37:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/fis-day17</id>
    <content type="html"><![CDATA[<h3>POTD</h3>

<p>Roy Fielding</p>

<p>HTTP- it&#8217;s all about representations of data, not the data itself</p>

<p>urls are to represent a resouce. They should be stateless and you should get multiple representations of it (different data types for example).</p>

<p><a href="http://en.wikipedia.org/wiki/SOAP">SOAP</a> is &#8220;like knocking on your neighbors&#8217; door and ask them to send a message to a guy down the street.&#8221;</p>

<h3>Blogs</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">User</span><span class="o">.</span><span class="n">all</span> <span class="c1">#=&gt; you want to return an empty array so that you can run an iteration on it.</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Refactor</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">assign_artist</span><span class="p">(</span><span class="n">artist_name</span><span class="p">)</span>
</span><span class='line'>  <span class="n">artist</span> <span class="o">=</span> <span class="no">Artist</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">select</span><span class="p">{</span><span class="o">|</span><span class="n">artist</span><span class="o">|</span> <span class="n">artist</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">artist_name</span><span class="p">}</span>
</span><span class='line'>  <span class="k">if</span>  <span class="n">artist</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span><span class='line'>      <span class="n">artist</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>      <span class="no">Artist</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">tap</span><span class="p">{</span><span class="o">|</span><span class="n">artist</span><span class="o">|</span> <span class="n">artist</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">artist_name</span><span class="p">}</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#can be refactored as</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">assign_artist</span><span class="p">(</span><span class="n">artist_name</span><span class="p">)</span>
</span><span class='line'>  <span class="no">Artist</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">select</span><span class="p">{</span><span class="o">|</span><span class="n">artist</span><span class="o">|</span> <span class="n">artist</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">artist_name</span><span class="p">}</span> <span class="o">||</span>
</span><span class='line'>  <span class="no">Artist</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">tap</span><span class="p">{</span><span class="o">|</span><span class="n">artist</span><span class="o">|</span> <span class="n">artist</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">artist_name</span><span class="p">}</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Spinning Up My First Server</h2>

<p>??swap disk space</p>

<ul>
<li><p><strong>Passenger</strong> knows how to run your app, <strong>nginx</strong> does not</p>

<ul>
<li>nginx sends your request to a Passenger instance

<ul>
<li>nginx is managing the load to Passenger</li>
<li>Passenger is actually running the application ~> managing starting up your app and serving it

<ul>
<li>it could run up to 20 instances of the app on a single server (the default is 5)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>nginx</strong> is the actual webserver. It&#8217;s a piece of software that speaks HTTP, is very high performance and sits between your application and the internet.</p></li>
<li><p>The tutorial is very detailed</p>

<ul>
<li>Not on the tutorial- <a href="https://help.github.com/articles/generating-ssh-keys">adding the SSH key from the server</a></li>
</ul>
</li>
</ul>


<h3>Lessons Learned From the Server Work</h3>

<ul>
<li>Problem: So I couldn&#8217;t deploy for hours&#8230; I went and reconfigured like 3 times. Renamed the name of the application and going through the nginx config file on the server. It sucked.</li>
<li>Answer: I had my database in my .gitignore file, which meant that it was in the deploy from the github. AHHHH!!! I never would have gotten that one.</li>
</ul>


<h2>Ruby</h2>

<ul>
<li><p>Opposites</p>

<ul>
<li>Enumerable#reject

<ul>
<li>Returns an array for all elements of enum for which block is false (see alsoEnumerable#find_all).</li>
</ul>
</li>
<li>Enumerable#select

<ul>
<li>Returns an array containing all elements of enum for which block is not false (see alsoEnumerable#reject).</li>
</ul>
</li>
</ul>
</li>
<li><p>Equivalent, different order for pipes</p>

<ul>
<li>Enumerable#each_with_object

<ul>
<li>Iterates the given block for each element with an arbitrary object given, and returns the initially given object.

<ul>
<li>[1, 2, 3, 4].each_with_object([]) { |element, result| result &lt;&lt; element }</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Enumerable#inject</p>

<ul>
<li>Combines all elements of enum by applying a binary operation, specified by a block or a symbol that names a method or operator.

<ul>
<li>[1, 2, 3, 4].inject([]) { |result, element| result &lt;&lt; element }</li>
</ul>
</li>
</ul>
</li>
</ul>


<h3>Rails</h3>

<ul>
<li>link_to is a great example of a polymorphic interface

<ul>
<li>if it receives an object (an instance of active record), it can create the correct link</li>
<li>if it receives a string it can create the correct link out of that</li>
</ul>
</li>
</ul>


<figure class='code'><figcaption><span>Routes Shortcuts</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">get</span> <span class="s1">&#39;/about/:action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;about&#39;</span> <span class="c1"># the action would map directly to the action in the about controller</span>
</span><span class='line'><span class="c1">#this is dangerous but only on the controller level so it would need to be controlled for there...</span>
</span><span class='line'>
</span><span class='line'><span class="n">get</span> <span class="s1">&#39;/about/:action(/:company)&#39;</span> <span class="c1"># this means that the company part of the url is optional</span>
</span><span class='line'>  <span class="ss">:company</span> <span class="o">=&gt;</span> <span class="s2">&quot;whatever&quot;</span> <span class="c1"># this additional means that &quot;whatever&quot; will be default value</span>
</span></code></pre></td></tr></table></div></figure>


<p>urls that have parameters in them like songs/:genre ~> you need to pass a paramter so that it can match it ~> songs/:genre/:year needs two parameters</p>

<figure class='code'><figcaption><span>In the view</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="sx">% link_to </span><span class="s1">&#39;Avi&#39;</span><span class="p">,</span> <span class="n">avi_path</span><span class="p">(</span><span class="s2">&quot;flombaum&quot;</span><span class="p">,</span> <span class="s2">&quot;flatiron&quot;</span><span class="p">,</span> <span class="ss">:foo</span> <span class="o">=&gt;</span> <span class="s2">&quot;baz&quot;</span><span class="p">)</span> <span class="o">%&gt;</span> <span class="c1">#will add parameter</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Mass Assignment</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Song</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;call me maybe&quot;</span><span class="p">)</span>
</span><span class='line'><span class="c1">#intialize the song with this default attribute</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FIS Day16]]></title>
    <link href="http://www.blog.adamjonas.com/blog/fis-day16/"/>
    <updated>2012-10-25T09:39:00-04:00</updated>
    <id>http://www.blog.adamjonas.com/blog/fis-day16</id>
    <content type="html"><![CDATA[<h3>POTD</h3>

<p>Linus Torvalds</p>

<h2>Rails</h2>

<p>rails assigns attr_accessors</p>

<figure class='code'><figcaption><span>Active Record Queries</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">song</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">last</span> <span class="c1">#=&gt; this is the second to last song</span>
</span><span class='line'><span class="no">Song</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="no">Song</span><span class="o">.</span><span class="n">find_by_name</span>
</span><span class='line'><span class="no">Song</span><span class="o">.</span><span class="n">find_by_anyattrributename</span>
</span><span class='line'><span class="no">Song</span><span class="o">.</span><span class="n">find_all_by_name</span> <span class="c1">#=&gt; sweet</span>
</span></code></pre></td></tr></table></div></figure>


<h3>ORM ~> Object Relational Mapping</h3>

<ul>
<li><strong>A ruby class is to a databse table as instances of that class are to a row in that table</strong>

<ul>
<li>the form field should map to the column name</li>
</ul>
</li>
<li>activerecord&#8217;s exists to accomplish CRUD</li>
<li>active record pattern <a href="http://books.google.com/books?id=FyWZt5DdvFkC&amp;lpg=PA1&amp;dq=Patterns%20of%20Enterprise%20Application%20Architecture%20by%20Martin%20Fowler&amp;pg=PT187#v=onepage&amp;q=active%20record&amp;f=false">proposed by Martin Fowler</a></li>
</ul>


<figure class='code'><figcaption><span>Persistence</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">new_song</span> <span class="o">=</span> <span class="no">Song</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="n">new_song</span><span class="o">.</span><span class="n">persisted?</span> <span class="c1">#=&gt; false</span>
</span><span class='line'><span class="n">new_song</span><span class="o">.</span><span class="n">new_record?</span> <span class="c1">#=&gt; true</span>
</span><span class='line'><span class="n">new_song</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'><span class="n">new_song</span><span class="o">.</span><span class="n">persisted?</span> <span class="c1">#=&gt; true</span>
</span><span class='line'><span class="n">new_song</span><span class="o">.</span><span class="n">new_record?</span> <span class="c1">#=&gt; false</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span>ORM Awareness</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">new_song</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;new&quot;</span>
</span><span class='line'><span class="n">s</span><span class="o">.</span><span class="n">changed?</span> <span class="c1">#=&gt; true</span>
</span><span class='line'><span class="n">s</span><span class="o">.</span><span class="n">changes</span> <span class="c1">#=&gt; {&quot;name=&gt; [&quot;whatever&quot;, &quot;new&quot;]}</span>
</span><span class='line'><span class="n">s</span><span class="o">.</span><span class="n">name_changed?</span> <span class="c1">#=&gt; true</span>
</span><span class='line'><span class="n">s</span><span class="o">.</span><span class="n">duration_changed</span> <span class="c1">#=&gt; false</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">song</span><span class="o">.</span><span class="n">destroy</span> <span class="c1">#=&gt; will destroy the record</span>
</span><span class='line'><span class="n">song</span><span class="o">.</span><span class="n">delete</span> <span class="c1">#=&gt; don&#39;t use this for now</span>
</span></code></pre></td></tr></table></div></figure>


<h3>REST</h3>

<p>Identification of a resource
Individual resources that are identified in the requests, for example using the URIs sin web-based REST systems.</p>

<p>REST- the url address should mirror the http verb and url action</p>

<ul>
<li><em>What do you mean by a representation?</em></li>
<li>these objects have different representations depending on their name</li>
<li>.xml should return the xml and .json and return the json</li>
<li>the objects should be devoid of your form until you ask for them</li>
</ul>


<h3>Routes</h3>

<figure class='code'><figcaption><span>Routes File syntax</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">get</span> <span class="s1">&#39;/welcome&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application#welcome&#39;</span>
</span><span class='line'><span class="c1"># same as ApplcationController.welcome</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="p">{</span><span class="n">controller</span> <span class="o">=&gt;</span> <span class="s1">&#39;application&#39;</span><span class="p">,</span> <span class="ss">:action</span> <span class="o">=&gt;</span> <span class="s1">&#39;welcome&#39;</span><span class="p">}</span>
</span><span class='line'><span class="n">resources</span> <span class="ss">:songs</span> <span class="c1">#is a macro that is calling 7 methods for you</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>the routes file are evaluated with lazy evaluation. Which allows you to put the most specific patterns on top and let them trickle down&#8230;</li>
<li>7 restful routes: get, create, update, delete, show, etc.</li>
<li><p><em>url endpoint</em>- the very last thing that is executed after a url request- the last application run is the action in the controller</p></li>
<li><p><strong>URL request cascade through a rails app:</strong></p>

<ol>
<li>web server gets request</li>
<li>send it through the rack</li>
<li>last stop, routes file</li>
<li>match a  route</li>
<li>request = SongContoller.new</li>
<li>response = request.index</li>
</ol>
</li>
</ul>


<p>Rails was the first to have implicit rendering&#8230;</p>

<figure class='code'><figcaption><span>Implicit Rendering</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">index</span>
</span><span class='line'>  <span class="vi">@index</span> <span class="o">=</span> <span class="no">Song</span><span class="o">.</span><span class="n">all</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="c1">#this will implicitly render the index page</span>
</span><span class='line'><span class="c1">#could also add ~&gt; render &#39;artist/index&#39; &lt;~ which will over-write the implicitly render</span>
</span><span class='line'><span class="c1">#&#39;artist/index&#39; is a method called on self</span>
</span></code></pre></td></tr></table></div></figure>


<p>class variable can inherit down the inheritance tree
a class instance var is private to the class</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">initialize</span>
</span><span class='line'>    <span class="vi">@songs</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>    <span class="vi">@genres</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>    <span class="no">Artist</span><span class="o">.</span><span class="n">all</span> <span class="o">&lt;&lt;</span> <span class="nb">self</span><span class="sc">??</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>VPS- Virtual Private server</p>

<p>Linux distribution - ubuntu
server - nginx
unicorn
DB- postgres</p>

<h3>Visualization</h3>

<ul>
<li>how does a partition actually work?

<ul>
<li>2 cores or 4 cores?? i don&#8217;t know what a core is.</li>
</ul>
</li>
<li>hardware usually out-paces software

<ul>
<li>we have had <em>multi-core processors</em> before we had software to take advantage of it.</li>
</ul>
</li>
<li><p>vocab:</p>

<ul>
<li>slice, a box, a vps, are pretty much synonymous</li>
</ul>
</li>
<li><p>dediserve is the server we are using</p></li>
<li>RAM has fast access.</li>
<li><a href="http://vimeo.com/15882917">capistrano</a></li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">ssh</span> <span class="n">root</span><span class="err">@</span><span class="mi">96</span><span class="o">.</span><span class="mi">8</span><span class="n">ipaddress</span>
</span><span class='line'><span class="c1">#will get an error saying that you can&#39;t connect</span>
</span><span class='line'><span class="c1">#say yes</span>
</span><span class='line'><span class="c1">#next insert your password: </span>
</span><span class='line'>
</span><span class='line'><span class="c1">#create a new user instead of root</span>
</span><span class='line'><span class="n">useradd</span> <span class="c1">#to get access to instructons</span>
</span><span class='line'><span class="n">man</span> <span class="n">useradd</span>
</span><span class='line'><span class="n">useradd</span> <span class="o">-</span><span class="n">m</span> <span class="o">-</span><span class="n">s</span> <span class="sr">/bin/</span><span class="n">bash</span> <span class="o">-</span><span class="n">G</span> <span class="n">sudo</span> <span class="n">ajonas</span>
</span><span class='line'><span class="c1">#sudo says anyone in sudo group can use sudo adam</span>
</span><span class='line'><span class="c1">#userdel will delete a user</span>
</span><span class='line'>
</span><span class='line'><span class="n">passwd</span> <span class="n">ajonas</span>
</span><span class='line'><span class="c1">#enter password:</span>
</span><span class='line'><span class="n">ssh</span> <span class="n">root</span><span class="err">@</span><span class="mi">96</span><span class="o">.</span><span class="mi">8</span><span class="n">ipaddress</span> <span class="n">will</span> <span class="n">get</span> <span class="n">you</span> <span class="k">in</span>
</span><span class='line'>
</span><span class='line'><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span> <span class="c1">#for updating indexes and downloading packages, like homebrew</span>
</span><span class='line'><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">upgrade</span>
</span><span class='line'><span class="n">build</span><span class="o">-</span><span class="n">apt</span><span class="o">-</span><span class="n">install</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#install your packages with apt-get</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Capistrano</h3>

<ul>
<li>handles your <a href="http://en.wikipedia.org/wiki/Release_management">release management</a> throw the entire code base on your server every time you deploy. Copy code off of Github or server and apply it. This will maintain revisions, roll back easily, compile the CSS in your assets. It can&#8217;t happen manually.</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">cap</span> <span class="n">deploy</span>
</span></code></pre></td></tr></table></div></figure>


<p>will do this for you. It&#8217;s script-able and automatic.</p>

<ul>
<li>This is run locally.</li>
<li>cap is what you use to interact with capistrano from the outside (like rails new from outside a rails project)</li>
<li>capify is how you interact with the gem (like rails generate inside the project folder)</li>
</ul>


<h3>Web Servers</h3>

<ul>
<li>apache was the market leader for best of breed of web server</li>
<li><p>ngenx - can handle lots of requests and tries to stay really small</p>

<ul>
<li>has much smaller memory footprint</li>
<li>has some features that are better suited for rails</li>
<li>ngenx is also a really good load balancer</li>
<li>config file is much easier to understand than ngenx</li>
</ul>
</li>
<li><p>Four functions in the config/deploy.rb DSL</p>

<ul>
<li>set: capistrano variables</li>
<li>role:</li>
</ul>
</li>
</ul>


<h3>Further reading</h3>

<ul>
<li>backups</li>
<li>log rotations - when your log gets too big, it is going to zip it up and send it to some long term storage. The first thing hackers will do is go through the logs.</li>
</ul>


<h3>Reading in prep:</h3>

<ul>
<li>Capistrano reads its instructions from a capfile.</li>
<li>many server clusters are hidden behind NATs (Network address translation) and firewalls, to prevent direct access.

<ul>
<li>NATs - the process of modifying IP address information in IP packet headers while in transit across a traffic routing device.</li>
</ul>
</li>
<li>Tasks are the foundation of a Capistrano setup; collections of tasks are typically called Recipes.</li>
<li><p>Daemons are special system applications which typically execute continuously in the background and await requests for the functions they provide from other applications.</p></li>
<li><p><em>From lowest to highest, the layers of the internet protocol suite are:</em></p></li>
<li>The link layer (commonly Ethernet) contains communication technologies for a local network.</li>
<li>The internet layer (IP) connects local networks, thus establishing internetworking.</li>
<li>The transport layer (TCP) handles host-to-host communication.</li>
<li><p>The application layer (for example HTTP) contains all protocols for specific data communications services on a process-to-process level (for example how a web browser communicates with a web server).</p></li>
<li><p>Stateless firewalls require less memory, and can be faster for simple filters that require less time to filter than to look up a session.</p></li>
<li><p>Modern firewalls can filter traffic based on many packet attributes like source IP address, source port, destination IP address or port, destination service like WWW or FTP.</p></li>
</ul>

]]></content>
  </entry>
  
</feed>
